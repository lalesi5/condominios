<div class="ajustesUnidadesEdit">
  <div class="containerInfo" id="advanced-search-form">
    <mat-card>
      <h2>Unidades</h2>
      <h3>Editar Unidades
        <div *ngIf="loading" class="spinner-border float-right" role="status">
          <span class="sr-only">Procesando...</span>
        </div>
      </h3>
      <form [formGroup]='unidadesForm' (ngSubmit)="onEditUnidades()">
        <div class="form-group">
          <label>Numero de la Unidad:</label>
          <input type="number" class="form-control" formControlName="numeroUnidad"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['numeroUnidad'].valid  && unidadesForm.controls['numeroUnidad'].touched }">
          <div *ngIf=" unidadesForm.controls['numeroUnidad'].touched  && !unidadesForm.controls['numeroUnidad'].valid"
            class="invalid-feedback">
            Campo requerido
          </div>
        </div>
        <div class="form-group">
          <label>Tipo de Unidad: </label>
          <select class="form-control" formControlName="tipoUnidad"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['tipoUnidad'].valid  && unidadesForm.controls['tipoUnidad'].touched }">
            <option value="Departamento" selected>Departamento</option>
            <option value="Casa">Casa</option>
          </select>
          <div *ngIf=" unidadesForm.controls['tipoUnidad'].touched  && !unidadesForm.controls['tipoUnidad'].valid"
            class="invalid-feedback">
            Campo requerido
          </div>
        </div>
        <div class="form-group">
          <label>Area Unidad (m2): </label>
          <input type="number" class="form-control" formControlName="areaUnidad"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['areaUnidad'].valid && unidadesForm.controls['areaUnidad'].touched}">
          <div *ngIf="form['areaUnidad'].errors" class="invalid-feedback">
            <div *ngIf="form['areaUnidad'].errors['required']">
              Campo requerido
            </div>
            <div *ngIf="form['areaUnidad'].errors['pattern']">
              El campo solo debe contener números!
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>Nombre del Propietario: </label>
          <input type="text" class="form-control" formControlName="nombrePropietario"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['nombrePropietario'].valid  && unidadesForm.controls['nombrePropietario'].touched }">
          <div
            *ngIf=" unidadesForm.controls['nombrePropietario'].touched && !unidadesForm.controls['nombrePropietario'].valid "
            class="invalid-feedback">
            Campo requerido
          </div>
        </div>
        <div class="form-group">
          <label>Apellido Propietario: </label>
          <input type="text" class="form-control" formControlName="apellidoPropietario"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['apellidoPropietario'].valid  && unidadesForm.controls['apellidoPropietario'].touched }">
          <div
            *ngIf=" unidadesForm.controls['apellidoPropietario'].touched && !unidadesForm.controls['apellidoPropietario'].valid"
            class="invalid-feedback">
            Campo requerido
          </div>
        </div>
        <div class="form-group">
          <label>Email Propietario: </label>
          <input type="text" class="form-control" formControlName="emailPropietario"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['emailPropietario'].valid && unidadesForm.controls['emailPropietario'].touched }">
          <div *ngIf="form['emailPropietario'].errors" class="invalid-feedback">
            <div *ngIf="form['emailPropietario'].errors['required']">
              Campo requerido
            </div>
            <div *ngIf="form['emailPropietario'].errors['pattern']">
              Por favor ingrese un email válido
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>Celular del Propietario: </label>
          <input type="number" class="form-control" formControlName="telefonoPropietario"
            [ngClass]="{ 'is-invalid': !unidadesForm.controls['telefonoPropietario'].valid  && unidadesForm.controls['telefonoPropietario'].touched }">
          <div *ngIf="form['telefonoPropietario'].errors" class="invalid-feedback">
            <div *ngIf="form['telefonoPropietario'].errors['pattern']">
              El campo solo debe contener números!
            </div>
          </div>
        </div>
        <div class="clearfix"></div>
        <form [formGroup]='usuariosForm' (ngSubmit)="onEditUnidades()">
          <div class="form-group">
            <label>Nombre Residente: </label>
            <input type="text" class="form-control" formControlName="nombreResidente" [readonly]="true">
          </div>
          <div class="form-group">
            <label>Apellido Residente: </label>
            <input type="text" class="form-control" formControlName="apellidoResidente" [readonly]="true">
          </div>
          <div class="form-group">
            <label>Email Residente: </label>
            <input type="text" class="form-control" formControlName="emailResidente" [readonly]="true">
          </div>
          <div class="form-group">
            <label>Celular del Residente: </label>
            <input type="text" class="form-control" formControlName="telefonoResidente" [readonly]="true">
          </div>
          <div class="clearfix"></div>
        </form>
        <div class="centrarBotones">
          <button type="submit" class="btn btn-success mr-2 btn-responsive"
            [disabled]="unidadesForm.invalid">Guardar</button>
          <button class="btn btn-primary ml-2 btn-responsive" (click)="onBacktoList()">Volver</button>
        </div>
      </form>
    </mat-card>
  </div>
</div>